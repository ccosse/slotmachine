<!--
  Author          :Charlie Cosse
  Website         :www.asymptopia.com
  Email           :ccosse@gmail.com
  Copyright       :(C) 2023 Asymptopia Software
  License         :ALL RIGHTS RESERVED
-->
<html>
  <head>
    <script src="https://d3js.org/d3.v6.min.js"></script>
  </head>
  <body>
    <div id="stage">
      <div class="reel_container">
        <div v-bind:id="this.reelid" class="reel">
          <div class="pane">
            <span>1</span>
          </div>
          <div class="pane">
            <span>2</span>
          </div>
          <div class="pane">
            <span>3</span>
          </div>
          <div class="pane">
            <span>4</span>
          </div>
          <div class="pane">
            <span>5</span>
          </div>
          <div class="pane">
            <span>6</span>
          </div>
          <div class="pane">
            <span>7</span>
          </div>
          <div class="pane">
            <span>8</span>
          </div>
          <div class="pane">
            <span>9</span>
          </div>
          <div class="pane">
            <span>10</span>
          </div>
          <div class="pane">
            <span>11</span>
          </div>
          <div class="pane">
            <span>12</span>
          </div>
          <div class="pane">
            <span>13</span>
          </div>
          <div class="pane">
            <span>14</span>
          </div>
          <div class="pane">
            <span>15</span>
          </div>
          <div class="pane">
            <span>16</span>
          </div>
          <div class="pane">
            <span>17</span>
          </div>
          <div class="pane">
            <span>18</span>
          </div>
          <div class="pane">
            <span>19</span>
          </div>
          <div class="pane">
            <span>20</span>
          </div>
        </div>
      </div>
    </div>
    <button onclick="runCB()">Stop/Run</button>
  </body>
  <script>
    let runCB = () => {
      const spinning = d3.select(".reel").classed("spinning");
      d3.select(".reel").classed("spinning", !spinning);
    };
  </script>
  <style>
    #stage {
      width: 100%;
      height: 700px;
      background-color: #bbddbb;
    }
    .reel_container {
      width: 20px;
      height: 10px;
      position: absolute;
      border: 1px solid #f00f;
      top: calc((700px - 10px) / 2);
      left: calc((100% -20px) / 2);
      transform: rotateZ(-30deg);
      perspective: 1200px;
    }
    .reel {
      width: 100%;
      height: 100%;
      position: relative;
      left: 0px;
      background-color: navy;
      -webkit-transform-style: preserve-3d;
      -moz-transform-style: preserve-3d;
      -o-transform-style: preserve-3d;
      transform-style: preserve-3d;
    }
    .reel div {
      position: absolute;
      width: 100px;
      height: 100px;
      backface-visibility: visible;
      top: calc((-100px + 10px) / 2);
      left: calc((-100px + 20px) / 2);
      -webkit-transform-style: preserve-3d;
      -moz-transform-style: preserve-3d;
      -o-transform-style: preserve-3d;
      transform-style: preserve-3d;
    }
    .reel div:nth-child(1) {
      border: 1px solid #f00;
      transform: rotateY(0deg) translateZ(315px);
    }
    .reel div:nth-child(2) {
      border: 1px solid #0f0;
      transform: rotateY(18deg) translateZ(315px);
    }
    .reel div:nth-child(3) {
      border: 1px solid #00f;
      transform: rotateY(36deg) translateZ(315px);
    }
    .reel div:nth-child(4) {
      border: 1px solid #f0f;
      transform: rotateY(54deg) translateZ(315px);
    }
    .reel div:nth-child(5) {
      border: 1px solid #000;
      transform: rotateY(72deg) translateZ(315px);
    }
    .reel div:nth-child(6) {
      border: 1px solid #000;
      transform: rotateY(90deg) translateZ(315px);
    }
    .reel div:nth-child(7) {
      border: 1px solid #000;
      transform: rotateY(108deg) translateZ(315px);
    }
    .reel div:nth-child(8) {
      border: 1px solid #000;
      transform: rotateY(126deg) translateZ(315px);
    }
    .reel div:nth-child(9) {
      border: 1px solid #000;
      transform: rotateY(144deg) translateZ(315px);
    }
    .reel div:nth-child(10) {
      border: 1px solid #000;
      transform: rotateY(162deg) translateZ(315px);
    }
    .reel div:nth-child(11) {
      border: 1px solid #000;
      transform: rotateY(180deg) translateZ(315px);
    }
    .reel div:nth-child(12) {
      border: 1px solid #000;
      transform: rotateY(198deg) translateZ(315px);
    }
    .reel div:nth-child(13) {
      border: 1px solid #000;
      transform: rotateY(216deg) translateZ(315px);
    }
    .reel div:nth-child(14) {
      border: 1px solid #000;
      transform: rotateY(234deg) translateZ(315px);
    }
    .reel div:nth-child(15) {
      border: 1px solid #000;
      transform: rotateY(252deg) translateZ(315px);
    }
    .reel div:nth-child(16) {
      border: 1px solid #000;
      transform: rotateY(270deg) translateZ(315px);
    }
    .reel div:nth-child(17) {
      border: 1px solid #000;
      transform: rotateY(288deg) translateZ(315px);
    }
    .reel div:nth-child(18) {
      border: 1px solid #000;
      transform: rotateY(306deg) translateZ(315px);
    }
    .reel div:nth-child(19) {
      border: 1px solid #000;
      transform: rotateY(324deg) translateZ(315px);
    }
    .reel div:nth-child(20) {
      border: 1px solid #000;
      transform: rotateY(342deg) translateZ(315px);
    }

    .reel {
      animation: spinY 20s infinite normal linear both paused;
    }
    .reel.spinning {
      animation: spinY 20s infinite normal linear both running;
    }
    @keyframes spinY {
      0% {
        transform: rotateY(360deg) translateZ(0px);
      }
      100% {
        transform: rotateY(0deg) translateZ(0px);
      }
    }
  </style>
</html>
